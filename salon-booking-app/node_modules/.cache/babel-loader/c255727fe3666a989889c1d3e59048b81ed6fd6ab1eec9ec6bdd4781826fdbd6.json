{"ast":null,"code":"import _objectSpread from\"C:/Users/sumuka/Desktop/Backend Final Project/salon-booking-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Form,Button,Container}from'react-bootstrap';import{useState,useRef}from'react';import'./CustomForm.css';import{FaStar}from\"react-icons/fa6\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CustomForm=_ref=>{let{fields,onSubmit,closeForm,formname}=_ref;const[rating,setRating]=useState(null);const formRefs=useRef({});console.log(fields);const handleFormSubmit=e=>{e.preventDefault();let formData=Object.keys(formRefs.current).reduce((acc,key)=>{const field=formRefs.current[key];if(field.type==='file'){acc[key]=field.files[0]||null;// Get the first file or null if no file was uploaded\n}else{acc[key]=formRefs.current[key].value;}formRefs.current[key].value='';return acc;},{});console.log(formData);if(rating){formData=_objectSpread(_objectSpread({},formData),{},{rating:rating});}onSubmit(formData);};console.log(rating);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"overlaypage\",onClick:closeForm}),/*#__PURE__*/_jsxs(Container,{className:\"border border-ridge rounded bg-light text-center text-dark w-50 p-2    d-flex flex-column justify-content-center align-items-center z-2 custom-form\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"fs-2\",children:formname}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleFormSubmit,className:\" w-75 \",children:[fields&&fields.length>0&&fields.map(field=>/*#__PURE__*/_jsxs(_Fragment,{children:[field.type!=='select'&&field.type!=='star'&&/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:field.label}),/*#__PURE__*/_jsx(Form.Control,{type:field.type,placeholder:field.placeholder,ref:el=>formRefs.current[field.name]=el})]},field.name),field.type==='select'&&/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:/*#__PURE__*/_jsx(Form.Select,{\"aria-label\":\"Default select example\",ref:el=>formRefs.current[field.name]=el,children:field.values.map(value=>/*#__PURE__*/_jsx(\"option\",{value:value,children:value}))})},field.name),field.type==='star'&&[...Array(5)].map((star,index)=>/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"rating\",value:index+1,onClick:()=>setRating(index+1),className:\"d-none\"}),/*#__PURE__*/_jsx(FaStar,{size:\"50px\",style:{color:\"\".concat(index+1<=rating?'yellow':'grey')}})]})}))]})),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",className:\"mx-2\",children:\"Submit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:closeForm,children:\"Cancel\"})]})]})]});};export default CustomForm;","map":{"version":3,"names":["Form","Button","Container","useState","useRef","FaStar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CustomForm","_ref","fields","onSubmit","closeForm","formname","rating","setRating","formRefs","console","log","handleFormSubmit","e","preventDefault","formData","Object","keys","current","reduce","acc","key","field","type","files","value","_objectSpread","children","className","onClick","length","map","Group","controlId","Label","label","Control","placeholder","ref","el","name","Select","values","Array","star","index","size","style","color","concat","variant"],"sources":["C:/Users/sumuka/Desktop/Backend Final Project/Salon-Booking-App/src/components/CustomForm/CustomForm.js"],"sourcesContent":["\r\nimport {Form,Button,Container} from 'react-bootstrap'\r\nimport {useState,useRef} from 'react'\r\nimport './CustomForm.css'\r\nimport { FaStar } from \"react-icons/fa6\";\r\nconst CustomForm=({fields,onSubmit,closeForm,formname})=>{\r\n   const [rating,setRating]=useState(null)\r\n   const formRefs=useRef({})\r\n     console.log(fields)\r\n    const handleFormSubmit = (e) => {\r\n        e.preventDefault(); \r\n\r\n        let formData = Object.keys(formRefs.current).reduce((acc, key) => {\r\n          const field = formRefs.current[key];\r\n          if (field.type === 'file') {\r\n            acc[key] = field.files[0] || null; \r\n            // Get the first file or null if no file was uploaded\r\n          } \r\n          else{\r\n            acc[key] = formRefs.current[key].value;\r\n             \r\n          }\r\n             \r\n            formRefs.current[key].value=''\r\n            return acc;\r\n        }, {});\r\n         console.log(formData)\r\n         if(rating)\r\n         {\r\n          formData={...formData,rating:rating}\r\n         }\r\n        onSubmit(formData); \r\n    };\r\n    console.log(rating)\r\n    return(\r\n          <>\r\n           <div className='overlaypage' onClick={closeForm}></div>\r\n           <Container className='border border-ridge rounded bg-light text-center text-dark w-50 p-2    d-flex flex-column justify-content-center align-items-center z-2 custom-form' >\r\n              <p className='fs-2'>{formname}</p>\r\n            <Form onSubmit={handleFormSubmit} className=' w-75 '>\r\n             {fields && fields.length>0 && fields.map((field)=><>\r\n             {field.type!=='select'  && field.type!=='star' && <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\" key={field.name}>\r\n                <Form.Label>{field.label}</Form.Label>\r\n                <Form.Control type={field.type} placeholder={field.placeholder} ref={(el) => (formRefs.current[field.name] = el)} />\r\n                </Form.Group>  }       \r\n                {field.type==='select' && <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\" key={field.name}>   \r\n                 <Form.Select aria-label=\"Default select example\" ref={(el) => (formRefs.current[field.name] = el)}>\r\n                {field.values.map((value)=><option value={value}>{value}</option>) }\r\n                </Form.Select>\r\n              </Form.Group>}\r\n\r\n              {field.type==='star' && [...Array(5)].map((star,index)=>\r\n                \r\n                <><label>\r\n                 <input type='radio' name='rating' value={index+1} onClick={()=>setRating(index+1)} className='d-none'/>\r\n                 <FaStar size='50px' style={{color:`${index+1<=rating?'yellow':'grey'}`}}/>\r\n              </label></>) }</>)}\r\n              <br/>\r\n              <Button variant=\"primary\" type=\"submit\" className='mx-2'>\r\n                Submit\r\n              </Button>\r\n              <Button variant=\"danger\" onClick={closeForm}>Cancel</Button>\r\n            </Form>\r\n            </Container>\r\n            </>\r\n          );\r\n       \r\n}\r\n\r\nexport default CustomForm"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}